## 建表

```sql
CREATE TABLE `employee_recruit` (
  `recruit_id` varchar(20) NOT NULL COMMENT '招募ID',
  `recruiter_name` varchar(15) NOT NULL COMMENT '招募人姓名',
  `recruiter_id` varchar(20) NOT NULL COMMENT '招募人ID',
  `recruiter_type` varchar(2) NOT NULL COMMENT '招募人类型',
  `merchant_id` varchar(20) NOT NULL COMMENT '公司ID',
  `recruitee_name` varchar(15) NOT NULL COMMENT '被招募人姓名',
  `recruitee_id_card` varchar(20) NOT NULL COMMENT '被招募人身份证号',
  `recruitee_phone` varchar(13) DEFAULT NULL COMMENT '被招募人手机号',
  `service_id` varchar(20) NOT NULL COMMENT '工种ID',
  `service_year` int(2) NOT NULL COMMENT '工作年限(枚举类EmployeeServiceYearEnum)',
  `status` varchar(2) NOT NULL COMMENT '状态',
  `refuse_reason` varchar(200) DEFAULT NULL COMMENT '拒绝理由',
  `emp_id` varchar(20) DEFAULT NULL COMMENT '正式服务人员ID',
  `del_flag` varchar(2) NOT NULL DEFAULT '1' COMMENT '逻辑删除（置0）',
  `create_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `create_id` varchar(20) DEFAULT NULL COMMENT '创建人ID',
  `modify_date` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
  `modify_id` varchar(20) DEFAULT NULL COMMENT '修改人ID',
  PRIMARY KEY (`recruit_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='服务人员招募表';

CREATE TABLE `share_log` (
  `share_id` varchar(20) NOT NULL COMMENT '分享记录ID',
  `share_content` varchar(100) NOT NULL DEFAULT '' COMMENT '分享内容',
  `share_type` varchar(3) NOT NULL COMMENT '分享类型',
  `share_to` varchar(3) NOT NULL COMMENT '分享到',
  `sharer_id` varchar(20) NOT NULL COMMENT '分享人ID',
  `sharer_name` varchar(15) NOT NULL COMMENT '分享人姓名',
  `sharer_role` varchar(20) NOT NULL COMMENT '分享人身份',
  `sharer_merchant` varchar(20) NOT NULL COMMENT '分享者公司ID',
  `level` varchar(2) NOT NULL DEFAULT '1' COMMENT '层级',
  `parent_id` varchar(20) NOT NULL DEFAULT '0' COMMENT '父节点ID',
  `parent_ids` varchar(255) NOT NULL DEFAULT ',0,' COMMENT '父节点IDs',
  `del_flag` varchar(2) NOT NULL DEFAULT '1' COMMENT '逻辑删除',
  `create_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `create_id` varchar(20) DEFAULT NULL COMMENT '创建人ID',
  `modify_date` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
  `modify_id` varchar(20) DEFAULT NULL COMMENT '修改人ID',
  PRIMARY KEY (`share_id`),
  KEY `share_type_index` (`share_type`),
  KEY `sharer_id_index` (`sharer_id`),
  KEY `sharer_role_index` (`sharer_role`),
  KEY `parent_id_index` (`parent_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='分享日志表';

CREATE TABLE `96365_mall`.`recruit_reward` (
	`reward_id` varchar(20) NOT NULL COMMENT '奖励ID',
  `recruit_id` varchar(20) NOT NULL COMMENT '招募ID',
  `reward_type` varchar(2) NOT NULL COMMENT '奖励类型（0：培训；1：3个月；2：6个月）',
	`reward_amount` int(11) NOT NULL DEFAULT 0 COMMENT '奖励金额',
  `status` varchar(2) NOT NULL COMMENT '状态（0：未发放；1：已发放）',
  `del_flag` varchar(2) NOT NULL DEFAULT '1' COMMENT '逻辑删除（置0）',
  `create_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `create_id` varchar(20) DEFAULT NULL COMMENT '创建人ID',
  `modify_date` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
  `modify_id` varchar(20) DEFAULT NULL COMMENT '修改人ID',
  PRIMARY KEY (`reward_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='服务人员招募奖励表';


-- 查看分享日志记录表
CREATE TABLE `share_log_view` (
	`view_id` varchar(20) NOT NULL COMMENT '查看分享记录ID',
  `share_id` varchar(20) NOT NULL COMMENT '分享记录ID',
  `open_id` varchar(50) NOT NULL COMMENT '微信openId',
  `del_flag` varchar(2) NOT NULL DEFAULT '1' COMMENT '逻辑删除',
  `create_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `create_id` varchar(20) DEFAULT NULL COMMENT '创建人ID',
  `modify_date` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
  `modify_id` varchar(20) DEFAULT NULL COMMENT '修改人ID',
  PRIMARY KEY (`view_id`),
  KEY `share_id_index` (`share_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='分享日志查看记录表';

```

### 修改表结构

- 添加字段

```sql
ALTER TABLE 96365_user.bind_code ADD COLUMN unionId varchar(50) DEFAULT NULL COMMENT '微信unionId' AFTER `code`;
```

- 添加权限

```sql
UPDATE `96365_user`.`function_info` SET priority = 12 WHERE function_id = '117';

INSERT INTO 96365_user.function_info (FUNCTION_ID,FUNCTION_NAME,TYPE,PRIORITY,PARENT_ID,PARENT_IDS,`LEVEL`,PERMISSION,URL) VALUES (187,'招募管理',0,11,0,',0,',1,'recruit',NULL);
 
 
INSERT INTO 96365_user.function_info (FUNCTION_ID,FUNCTION_NAME,TYPE,PRIORITY,PARENT_ID,PARENT_IDS,`LEVEL`,PERMISSION,URL) VALUES (188,'招募列表',1,1,187,',0,187,',2,'recruit.list',NULL);
 
INSERT INTO 96365_user.function_info (FUNCTION_ID,FUNCTION_NAME,TYPE,PRIORITY,PARENT_ID,PARENT_IDS,`LEVEL`,PERMISSION,URL) VALUES (189,'招募奖励',1,2,187,',0,187,',2,'recruit.reward',NULL);
 
INSERT INTO 96365_user.function_info (FUNCTION_ID,FUNCTION_NAME,TYPE,PRIORITY,PARENT_ID,PARENT_IDS,`LEVEL`,PERMISSION,URL) VALUES (190,'拒绝招募',2,1,188,',0,187,188,',3,'recruit.refuse','/recruit/admin/refuse');

INSERT INTO 96365_user.function_info (FUNCTION_ID,FUNCTION_NAME,TYPE,PRIORITY,PARENT_ID,PARENT_IDS,`LEVEL`,PERMISSION,URL) VALUES (191,'发放奖励',2,1,189,',0,187,189,',3,'recruit.send.reward','/recruit/send/reward');

```