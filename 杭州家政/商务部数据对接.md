## 建表

```sql
CREATE TABLE `employee_public_credit` (
  `id` varchar(20) NOT NULL COMMENT 'id',
  `id_card` varchar(20) NOT NULL COMMENT '身份证号',
	`name` varchar(15) NOT NULL COMMENT '姓名',
	`certificate` varchar(3000) DEFAULT NULL COMMENT '证书信息',
	`lose_credit` varchar(3000) DEFAULT NULL COMMENT '失信人信息',
	`create_date` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	`modify_date` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `emp_card_code` (`id_card`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='人员征信查询表';

CREATE TABLE `merchant_public_credit` (
  `id` varchar(20) NOT NULL COMMENT 'id',
  `merchant_id` varchar(20) NOT NULL COMMENT '商户名称',
	`sc_code` varchar(20) NOT NULL COMMENT '企业统一社会信用代码',
	`general_credit` varchar(3000) DEFAULT NULL COMMENT '通用信用',
	`serious_dishonesty` varchar(3000) DEFAULT NULL COMMENT '严重违法失信',
	`create_date` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	`modify_date` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
  PRIMARY KEY (`id`),
	UNIQUE KEY `merchant_id_index` (`merchant_id`),
  UNIQUE KEY `sc_code_index` (`sc_code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='企业征信查询表';

alter table employee_public_credit modify `certificate` text DEFAULT NULL COMMENT '证书信息';
alter table employee_public_credit modify `lose_credit` text DEFAULT NULL COMMENT '失信人信息';
alter table merchant_public_credit modify `general_credit` text DEFAULT NULL COMMENT '通用信用';
alter table merchant_public_credit modify `serious_dishonesty` text DEFAULT NULL COMMENT '严重违法失信';

alter table employee_public_credit add column `permanent_population` text default null comment '常住人口身份信息';


select count(*) from employee_public_credit where certificate is not null;

select count(*) from employee_public_credit where lose_credit is not null;

```

## 有失信执行人信息的阿姨暂时软删掉

```sql
update `96365_mall`.employee 
SET DEL_FLAG = '0' 
where ID_CARD 
in (
'342101196610252248',
'350125197309020320',
'330124196903024514',
'332627197702260767',
'460025197504040028',
'340405197003010022',
'330719197409173764',
'330123197209161429',
'341021197208036102',
'330623197203132085',
'330127197112272726',
'332625196403255127',
'220223197008080024',
'320811197109021526',
'360281197210077720',
'360621197403186523',
'330121196307080860',
'362321197206198627',
'510213197206271688',
'330822197101196621',
'330825197008093520',
'330126196810123225',
'23100219621223054x',
'33012719650308412x',
'33010419650604134x',
'362301197512044540',
'330125197307256029',
'330127197212120922',
'330121196907278424',
'330123196802041626',
'330122196505172543',
'33012619690606002x',
'330125196903114129',
'330821197407173426',
'330126197206243524',
'330602196902200044',
'340823196803017863',
'332621197404083266',
'330824196911233728',
'332627196909072689',
'332528197409231423',
'330824197605251527',
'330123196604011629',
'34252919730316008X',
'342427197408215827',
'330625196712125164',
'330802196904060445',
'33082119630217142x',
'330522196512230221',
'360423197310020024',
'330821197409096049',
'33082219690109184x',
'330824196303254920',
'330823197607074329',
'330323196406260027',
'330124196504201421',
'412902197708176135'
);

```

## 服务人员硬删除

```sql
delete from employee where ID_CARD 
in ('342101196610252248',
'350125197309020320',
'330124196903024514',
'332627197702260767',
'460025197504040028',
'340405197003010022',
'330719197409173764',
'330123197209161429',
'341021197208036102',
'330623197203132085',
'330127197112272726',
'332625196403255127',
'220223197008080024',
'320811197109021526',
'360281197210077720',
'360621197403186523',
'330121196307080860',
'362321197206198627',
'510213197206271688',
'330822197101196621',
'330825197008093520',
'330126196810123225',
'23100219621223054x',
'33012719650308412x',
'33010419650604134x',
'362301197512044540',
'330125197307256029',
'330127197212120922',
'330121196907278424',
'330123196802041626',
'330122196505172543',
'33012619690606002x',
'330125196903114129',
'330821197407173426',
'330126197206243524',
'330602196902200044',
'340823196803017863',
'332621197404083266',
'330824196911233728',
'332627196909072689',
'332528197409231423',
'330824197605251527',
'330123196604011629',
'34252919730316008X',
'342427197408215827',
'330625196712125164',
'330802196904060445',
'33082119630217142x',
'330522196512230221',
'360423197310020024',
'330821197409096049',
'33082219690109184x',
'330824196303254920',
'330823197607074329',
'330323196406260027',
'330124196504201421',
'412902197708176135'
);

delete from employee_card_code where emp_card_code 
in ('342101196610252248',
'350125197309020320',
'330124196903024514',
'332627197702260767',
'460025197504040028',
'340405197003010022',
'330719197409173764',
'330123197209161429',
'341021197208036102',
'330623197203132085',
'330127197112272726',
'332625196403255127',
'220223197008080024',
'320811197109021526',
'360281197210077720',
'360621197403186523',
'330121196307080860',
'362321197206198627',
'510213197206271688',
'330822197101196621',
'330825197008093520',
'330126196810123225',
'23100219621223054x',
'33012719650308412x',
'33010419650604134x',
'362301197512044540',
'330125197307256029',
'330127197212120922',
'330121196907278424',
'330123196802041626',
'330122196505172543',
'33012619690606002x',
'330125196903114129',
'330821197407173426',
'330126197206243524',
'330602196902200044',
'340823196803017863',
'332621197404083266',
'330824196911233728',
'332627196909072689',
'332528197409231423',
'330824197605251527',
'330123196604011629',
'34252919730316008X',
'342427197408215827',
'330625196712125164',
'330802196904060445',
'33082119630217142x',
'330522196512230221',
'360423197310020024',
'330821197409096049',
'33082219690109184x',
'330824196303254920',
'330823197607074329',
'330323196406260027',
'330124196504201421',
'412902197708176135'
);
```